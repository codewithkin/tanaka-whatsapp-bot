generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
    id  String @id @default(uuid())
    
    name    String @unique
    imageUrl    String

    orders   OrderProduct[]

    price   Int
    description String?

    createdAt   DateTime @default(now())
}

model Order {
    id  String @id @default(uuid())
    userDetails String @unique
    
    products    OrderProduct[]

    totalPrice  Int

    createdAt   DateTime @default(now())
}

model OrderProduct {
    order   Order  @relation(fields: [orderId], references: [id])
    orderId String

    product Product @relation(fields: [productId], references: [id])
    productId String

    quantity Int

    @@id([orderId, productId])
}